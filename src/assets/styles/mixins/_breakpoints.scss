/* 响应式断点混合器 */

/* 专注于提供媒体查询功能，断点变量由variables/_breakpoints.scss统一管理 */
@use "../variables/breakpoints.scss" as *;
@use "sass:map";

/* === 通用媒体查询混合器 === */

/* 基于变量系统的媒体查询mixins */
/**
 * 大于等于指定断点的媒体查询
 * @param {string} $breakpoint - 断点名称，必须在$breakpoints映射中定义
 */
@mixin breakpoint-up($breakpoint) {
  @if map.has-key($breakpoints, $breakpoint) {
    $min-width: map.get($breakpoints, $breakpoint);
    @if $min-width != 0 {
      @media (min-width: #{$min-width}) {
        @content;
      }
    } @else {
      @content;
    }
  } @else {
    @error "断点 `#{$breakpoint}` 未在$breakpoints映射中定义";
  }
}

@mixin breakpoint-down($breakpoint) {
  @if map.has-key($breakpoints, $breakpoint) {
    $max-width: map.get($breakpoints, $breakpoint);
    @if $max-width != 0 {
      @media (max-width: #{$max-width - 1px}) {
        @content;
      }
    }
  } @else {
    @error "断点 `#{$breakpoint}` 未在$breakpoints映射中定义";
  }
}

@mixin breakpoint-between($lower, $upper) {
  @if map.has-key($breakpoints, $lower) and map.has-key($breakpoints, $upper) {
    $min-width: map.get($breakpoints, $lower);
    $max-width: map.get($breakpoints, $upper);

    @if $min-width != 0 {
      @media (min-width: #{$min-width}) and (max-width: #{$max-width - 1px}) {
        @content;
      }
    } @else {
      @media (max-width: #{$max-width - 1px}) {
        @content;
      }
    }
  } @else {
    @error "断点 `#{$lower}` 或 `#{$upper}` 未在$breakpoints映射中定义";
  }
}

/** ----------------------------------------------------
  * 快捷设备类型混合器
----------------------------------------------------- */

/**
 * @mode mobile-only
 * 仅在移动设备上生效的媒体查询
 * @content - 仅在移动设备上生效的样式
 */
@mixin mobile-only {
  @media (max-width: #{$breakpoint-mobile-lg - 1px}) {
    @content;
  }
}

/**
 * @mode tablet-only
 * 仅在平板设备上生效的媒体查询
 * @content - 仅在平板设备上生效的样式
 */
@mixin tablet-only {
  @media (min-width: #{$breakpoint-mobile-lg}) and (max-width: #{$breakpoint-desktop-sm - 1px}) {
    @content;
  }
}

/**
 * @mode desktop-only
 * 仅在桌面设备上生效的媒体查询
 * @content - 仅在桌面设备上生效的样式
 */
@mixin desktop-only {
  @media (min-width: #{$breakpoint-desktop-sm}) {
    @content;
  }
}

/**
 * @mode login-left-visible
 * 登录页左侧可见时的媒体查询
 * @content - 登录页左侧可见时的样式
 */
@mixin login-left-visible {
  @media (min-width: #{$login-left-view-breakpoint + 1px}) {
    @content;
  }
}

/**
 * @mode login-left-hidden
 * 登录页左侧不可见时的媒体查询
 * @content - 登录页左侧不可见时的样式
 */
@mixin login-left-hidden {
  @media (max-width: #{$login-left-view-breakpoint}) {
    @content;
  }
}

/**
 * @mode mobile-xs
 * 仅在移动设备上生效的媒体查询，宽度小于等于$breakpoint-mobile-xs
 * @content - 仅在移动设备上生效的样式
 */
@mixin mobile-xs {
  @media (max-width: #{$breakpoint-mobile-xs}) {
    @content;
  }
}

/**
 * @mode mobile-sm
 * 仅在移动设备上生效的媒体查询，宽度大于$breakpoint-mobile-xs小于等于$breakpoint-mobile-sm
 * @content - 仅在移动设备上生效的样式
 */
@mixin mobile-sm {
  @media (min-width: #{$breakpoint-mobile-xs + 1px}) and (max-width: #{$breakpoint-mobile-sm}) {
    @content;
  }
}

/**
 * @mode mobile-md
 * 仅在移动设备上生效的媒体查询，宽度大于$breakpoint-mobile-sm小于等于$breakpoint-mobile-md
 * @content - 仅在移动设备上生效的样式
 */
@mixin mobile-md {
  @media (min-width: #{$breakpoint-mobile-sm + 1px}) and (max-width: #{$breakpoint-mobile-md}) {
    @content;
  }
}

/**
 * @mode mobile-lg
 * 仅在移动设备上生效的媒体查询，宽度大于$breakpoint-mobile-md小于等于$breakpoint-mobile-lg
 * @content - 仅在移动设备上生效的样式
 */
@mixin mobile-lg {
  @media (min-width: #{$breakpoint-mobile-md + 1px}) and (max-width: #{$breakpoint-mobile-lg}) {
    @content;
  }
}

/**
 * @mode tablet-sm
 * 仅在平板设备上生效的媒体查询，宽度大于$breakpoint-tablet-sm小于等于$breakpoint-tablet-md
 * @content - 仅在平板设备上生效的样式
 */
@mixin tablet-sm {
  @media (min-width: #{$breakpoint-tablet-sm}) and (max-width: #{$breakpoint-tablet-md - 1px}) {
    @content;
  }
}

/**
 * @mode tablet-md
 * 仅在平板设备上生效的媒体查询，宽度大于$breakpoint-tablet-md小于等于$breakpoint-tablet-lg
 * @content - 仅在平板设备上生效的样式
 */
@mixin tablet-md {
  @media (min-width: #{$breakpoint-tablet-md}) and (max-width: #{$breakpoint-tablet-lg - 1px}) {
    @content;
  }
}

/**
 * @mode tablet-lg
 * 仅在平板设备上生效的媒体查询，宽度大于$breakpoint-tablet-lg小于等于$breakpoint-desktop-sm
 * @content - 仅在平板设备上生效的样式
 */
@mixin tablet-lg {
  @media (min-width: #{$breakpoint-tablet-lg}) and (max-width: #{$breakpoint-desktop-sm - 1px}) {
    @content;
  }
}

/**
 * @mode desktop-sm
 * 仅在桌面设备上生效的媒体查询，宽度大于$breakpoint-desktop-sm小于等于$breakpoint-desktop-md
 * @content - 仅在桌面设备上生效的样式
 */
@mixin desktop-sm {
  @media (min-width: #{$breakpoint-desktop-sm}) and (max-width: #{$breakpoint-desktop-md - 1px}) {
    @content;
  }
}

/**
 * @mode desktop-md
 * 仅在桌面设备上生效的媒体查询，宽度大于$breakpoint-desktop-md小于等于$breakpoint-desktop-lg
 * @content - 仅在桌面设备上生效的样式
 */
@mixin desktop-md {
  @media (min-width: #{$breakpoint-desktop-md}) and (max-width: #{$breakpoint-desktop-lg - 1px}) {
    @content;
  }
}

/**
 * @mode desktop-lg
 * 仅在桌面设备上生效的媒体查询，宽度大于$breakpoint-desktop-lg小于等于$breakpoint-desktop-xl
 * @content - 仅在桌面设备上生效的样式
 */
@mixin desktop-lg {
  @media (min-width: #{$breakpoint-desktop-lg}) and (max-width: #{$breakpoint-desktop-xl - 1px}) {
    @content;
  }
}

/**
 * @mode desktop-xl
 * 仅在桌面设备上生效的媒体查询，宽度大于$breakpoint-desktop-xl
 * @content - 仅在桌面设备上生效的样式
 */
@mixin desktop-xl {
  @media (min-width: #{$breakpoint-desktop-xl}) {
    @content;
  }
}

/**
 * @mode xs
 * 仅在移动设备上生效的媒体查询，宽度小于等于$breakpoint-mobile-xs
 * @content - 仅在移动设备上生效的样式
 */
@mixin xs {
  @include mobile-only;
}

/**
 * @mode sm
 * 仅在平板设备上生效的媒体查询，宽度大于$breakpoint-tablet-sm小于等于$breakpoint-tablet-md
 * @content - 仅在平板设备上生效的样式
 */
@mixin sm {
  @include tablet-only;
}

/**
 * @mode md
 * 仅在平板设备上生效的媒体查询，宽度大于$breakpoint-tablet-md小于等于$breakpoint-tablet-lg
 * @content - 仅在平板设备上生效的样式
 */
@mixin md {
  @include tablet-only;
}

/**
 * @mode lg
 * 仅在桌面设备上生效的媒体查询，宽度大于$breakpoint-desktop-lg小于等于$breakpoint-desktop-xl
 * @content - 仅在桌面设备上生效的样式
 */
@mixin lg {
  @include desktop-only;
}

/**
 * @mode xl
 * 仅在桌面设备上生效的媒体查询，宽度大于$breakpoint-desktop-xl
 * @content - 仅在桌面设备上生效的样式
 */
@mixin xl {
  @include desktop-only;
}

/**
 * @mode xxl
 * 仅在桌面设备上生效的媒体查询，宽度大于$breakpoint-desktop-xl
 * @content - 仅在桌面设备上生效的样式
 */
@mixin xxl {
  @include desktop-xl;
}
